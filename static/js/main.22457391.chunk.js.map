{"version":3,"sources":["serviceWorker.js","components/popup.js","components/graph.js","components/stockportfolio.js","index.js"],"names":["Boolean","window","location","hostname","match","PopUp","this","props","show","className","style","backdropStyle","position","top","bottom","left","right","backgroundColor","padding","modalStyle","borderRadius","maxWidth","minHeight","margin","children","onClick","onClose","React","Component","Graph","closeModal","setState","open","onCloseModal","state","stocks","chartData","stockData","drawStockValueChart","bind","name","fetch","then","response","json","data","Object","keys","dataL","days","reverse","values","map","day","concat","alert","list","selectIdList","j","length","select","document","getElementById","i","option","createElement","text","add","startDate","endDate","sD","assign","index1","indexOf","index2","namelist","l","isUndefined","realList","push","dataPoints","parseFloat","Array","isArray","nameList","Promise","all","a","getStockData","result","addToList","drawGraph","center","classNames","overlay","styles","customOverlay","modal","customModal","id","e","value","chartType","width","height","loader","options","title","curveType","legend","Stock","stock","unitValue","currencySymbol","quantity","totalValue","onChange","setChecked","defaultChecked","checked","type","Portfolio","popUpModal","isOpen","countTotal","total","toFixed","totalValuOfStocks","saveStock","newStock","newstock","toUpperCase","trim","totalv","len","newStocksList","updatePortfolio","onOpenModal","stopPropagation","currency","newName","changePortfolioName","savePortfolioName","cancelPortfolioNameChange","removeSelectedStock","copyStocks","newTotalValue","el","target","input","parentElement","firstChild","hasAttribute","removeAttribute","setAttribute","div","nextSibling","n","split","copy","selected","filter","clist","getElementsByTagName","stocksCpy","s","renObjData","index","key","openModal","src","closePortfolio","hidden","hideTextShowInput","App","onSetResult","localStorage","setItem","JSON","stringify","portfolio","getItem","parse","addPortfolio","portfolioId","portfolioCopy","p","Math","max","setId","newPortfolio","ReactDOM","render","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.22457391.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\r\n//File includes code for pop-up buttons used for adding stocks to portfolio\r\n\r\nclass PopUp extends React.Component {\r\n    render() {\r\n        // Render nothing if the \"show\" prop is false\r\n        if(!this.props.show) {\r\n            return null;\r\n        }\r\n\r\n        // Styling of background\r\n        const backdropStyle = {\r\n            position: 'fixed',\r\n            top: 0,\r\n            bottom: 0,\r\n            left: 5,\r\n            right: 0,\r\n            backgroundColor: 'rgba(0,0,0,0.3)',\r\n            padding: 50\r\n        };\r\n\r\n        // Styling of modal window\r\n        const modalStyle = {\r\n            backgroundColor: '#fff',\r\n            borderRadius: 5,\r\n            maxWidth: 500,\r\n            minHeight: 300,\r\n            margin: '0 auto',\r\n            padding: 30\r\n        };\r\n\r\n        return (\r\n            <div className=\"backdrop\" style={{backdropStyle}}>\r\n                <div className=\"modal\" style={{modalStyle}}>\r\n                    {this.props.children}\r\n\r\n                    <div className=\"footer\">\r\n                        <button onClick={this.props.onClose}>\r\n                            Close\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default PopUp;","import React from 'react'\r\nimport Chart from \"react-google-charts\";\r\nimport Modal from 'react-responsive-modal'; //nice external package for creating modal windows to react apps\r\nimport styles from '../graph-style.css';\r\n//File includes code for creating a stock performance graph as a modal window\r\nexport default class Graph extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            stocks: this.props.stocks,\r\n            chartData: [],\r\n            stockData: [],\r\n            open: this.props.open,\r\n        };\r\n        this.drawStockValueChart = this.drawStockValueChart.bind(this)\r\n        this.drawStockValueChart()\r\n    }\r\n\r\n    //Function for closing modal window\r\n    closeModal = () => {\r\n        this.setState({ open: false });\r\n        this.props.onCloseModal()\r\n    };\r\n    //Function for fetching stock data from alphavantage, documentation can be found in alphavantage.io/documentation\r\n    async getStockData(name){\r\n        return await fetch('https://www.alphavantage.co/query?function=TIME_SERIES_DAILY&symbol=' + name + '&apikey=XDNRE3YNSC6MJXBQ')\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                if(Object.keys(data)[0] === 'Note' || Object.keys(data)[0] === 'Error Message'){\r\n                    alert('Only 5 requests are allowed in one minute (by API)')\r\n                }else {\r\n                    let dataL = data['Time Series (Daily)']\r\n                    let days = Object.keys(dataL).reverse()\r\n                    let values = []\r\n                    values = days.map(day => values.concat(dataL[day])[0])\r\n                    return [values, days]\r\n                }\r\n            })\r\n    } // Create a list from stocks wanted to be in the graph\r\n    addToList(list, selectIdList) {\r\n        for(var j = 0; j<selectIdList.length; j++){\r\n            let select = document.getElementById(selectIdList[j])\r\n            for(var i = 0; i<list.length; i++){\r\n                var option = document.createElement(\"option\")\r\n                option.text = list[i]\r\n                select.add(option)\r\n            }\r\n        }\r\n    }\r\n    //Draw a line chart from given stock values and times, time for x-axis, value for y-axis\r\n    drawGraph(startDate, endDate){\r\n        let sD = Object.assign([], this.state.stockData)\r\n        let index1 = sD[0][1].indexOf(startDate)\r\n        let index2 = sD[0][1].indexOf(endDate)\r\n        if(!(index1 <= index2)){\r\n            alert('Time invalid')\r\n        } else {\r\n            let stocks = [...this.state.stocks]\r\n            let list = ['Time']\r\n            let namelist = stocks.map(l => l.name)\r\n            list =list.concat(namelist)\r\n            let isUndefined = false\r\n            let realList = []\r\n            realList.push(list)\r\n            try{\r\n                for(var i = index1; i<index2+1; i++){\r\n                    let dataPoints = []\r\n                    dataPoints = [sD[0][1][i]]\r\n                    for(var j = 0; j<sD.length; j++){\r\n                        dataPoints = dataPoints.concat(parseFloat(Object.values(sD[j][0][i])[0]))\r\n                    }\r\n                    if(!Array.isArray(dataPoints)){\r\n                        isUndefined = true\r\n                        break;\r\n                    }\r\n                    realList.push(dataPoints)\r\n                }\r\n            }catch{\r\n            }\r\n            if(isUndefined === false){\r\n                this.setState({\r\n                    chartData: realList,\r\n                });\r\n            } else {\r\n                alert('Only 5 request are allowed in one minute (by API)')\r\n            }\r\n        }\r\n    }\r\n\r\n    //Combination of above functions for creating the graph\r\n    async drawStockValueChart() {\r\n        let stocks = this.state.stocks\r\n        let nameList = stocks.map(l => l.name)\r\n        let stockData = []\r\n        await Promise.all(nameList.map(async (name) =>\r\n            this.getStockData(name))).then(result => {\r\n            stockData = [...result];\r\n            this.setState({stockData: Object.assign([], result)});\r\n        })\r\n        if(stockData.length !== 0){ //Default x-axis length is 3 weeks (15 days since stock market is closed during weekends)\r\n            let startDate = stockData[0][1][stockData[0][1].length-16]\r\n            let endDate = stockData[0][1][stockData[0][1].length-1]\r\n            this.addToList(stockData[0][1], ['startDate', 'endDate'])\r\n            this.drawGraph(startDate, endDate)\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const options = {\r\n            title: \"Stock value\",\r\n            curveType: \"function\",\r\n            legend: { position: \"bottom\" }\r\n        };\r\n        return(\r\n            <Modal\r\n                open={this.state.open}\r\n                onClose={this.closeModal}\r\n                center\r\n                classNames={{\r\n                    overlay: styles.customOverlay,\r\n                    modal: styles.customModal,\r\n                }}\r\n            >\r\n\r\n                <div>\r\n                    <h2>Graph</h2>\r\n                    Select by date\r\n                    <select id='startDate'><option>Select starting date</option></select>\r\n                    <select id='endDate'><option>Select ending date</option></select>\r\n                    <button onClick={(e) => {this.drawGraph(document.getElementById('startDate').value, document.getElementById('endDate').value)}}>Search</button>\r\n                    <Chart\r\n                        chartType=\"LineChart\"\r\n                        width=\"800px\"\r\n                        height=\"550px\"\r\n                        loader={<div>Loading chart...</div>}\r\n                        data={this.state.chartData}\r\n                        options={options}\r\n                    />\r\n                </div>\r\n\r\n            </Modal>\r\n        )\r\n    }\r\n}","import React from 'react'\r\nimport '../App.css'\r\nimport PopUp from './popup.js'\r\nimport Graph from './graph.js'\r\n\r\n\r\n//class for stock including name, unit value, quantity, total value of stocks and checkbox for selecting\r\nclass Stock extends React.Component {\r\n    constructor(props){\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <tr>\r\n                <td><p>{this.props.stock.name}</p></td>\r\n                <td><p>{this.props.stock.unitValue}{this.props.currencySymbol}</p></td>\r\n                <td><p>{this.props.stock.quantity}</p></td>\r\n                <td><p>{this.props.stock.totalValue}{this.props.currencySymbol}</p></td>\r\n                <td><input onChange={(e) => {this.props.setChecked(e, this.props.stock.id)}} id ={'check-' +this.props.stock.id} defaultChecked = {this.props.stock.checked} type=\"checkbox\" ></input></td>\r\n            </tr>\r\n        )\r\n    }\r\n}\r\n//class for stock portfolio\r\nexport default class Portfolio extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            stocks: this.props.stocks,\r\n            totalValuOfStocks:this.props.total,\r\n            currency: 'EUR',\r\n            newName: '',\r\n            name: this.props.name,\r\n            id: this.props.id,\r\n            isOpen: false,\r\n            open:false,\r\n            newStock: {name : '', unitValue : 0, quantity : 0, totalValue:0},\r\n            chartData: [],\r\n            stockData: [],\r\n            currencySymbol: '€',\r\n        };\r\n        this.changePortfolioName =this.changePortfolioName.bind(this)\r\n        this.savePortfolioName =this.savePortfolioName.bind(this)\r\n        this.cancelPortfolioNameChange =this.cancelPortfolioNameChange.bind(this)\r\n        this.saveStock = this.saveStock.bind(this)\r\n        this.newStock = this.newStock.bind(this)\r\n        this.removeSelectedStock = this.removeSelectedStock.bind(this)\r\n        this.setChecked = this.setChecked.bind(this)\r\n        this.onOpenModal = this.onOpenModal.bind(this)\r\n\r\n    }\r\n\r\n//Component mounting updates total value of certain stock\r\n    componentDidMount() {\r\n        let copyStocks = [...this.props.stocks]\r\n        let newTotalValue = 0\r\n        for(var i = 0; i<copyStocks.length; i++){\r\n            let total = copyStocks[i].unitValue*copyStocks[i].quantity\r\n            copyStocks[i].totalValue = total.toFixed(2)\r\n            copyStocks[i].checked = false\r\n            newTotalValue = total + newTotalValue\r\n        }\r\n        newTotalValue = newTotalValue.toFixed(2)\r\n        this.setState({\r\n            stocks: copyStocks,\r\n            totalValuOfStocks: newTotalValue\r\n        }, () => {\r\n            this.props.updatePortfolio(this.state.id, this.state.stocks, this.state.name)\r\n        });\r\n    }\r\n\r\n    //Toggles input and text\r\n    hideTextShowInput(e){\r\n        e.stopPropagation();\r\n        let el = e.target\r\n        let input = el.parentElement.firstChild\r\n        if(el.hasAttribute(\"hidden\")){\r\n            el.removeAttribute(\"hidden\")\r\n        }else{\r\n            el.setAttribute(\"hidden\", true)}\r\n        input.removeAttribute(\"hidden\")\r\n    }\r\n    //Store new portfolio name during writing\r\n    changePortfolioName(e){\r\n        e.stopPropagation();\r\n        this.setState({\r\n            newName:e.target.value,\r\n        })\r\n    }\r\n    //Save modified portfolio name\r\n    savePortfolioName(e){\r\n        e.stopPropagation();\r\n        if(this.state.newName.trim().length>0){\r\n            this.setState({\r\n                name: this.state.newName.trim()\r\n            }, () => {\r\n                this.props.updatePortfolio(this.state.id, this.state.stocks, this.state.name)\r\n            });\r\n        } else {\r\n            alert('Insert proper name')\r\n        }\r\n        let div = e.target.parentElement\r\n        let text = div.nextSibling\r\n        div.setAttribute(\"hidden\", true)\r\n        text.removeAttribute(\"hidden\")\r\n    }\r\n\r\n    //Cancels name change\r\n    cancelPortfolioNameChange(e){\r\n        let div = e.target.parentElement\r\n        let text = div.nextSibling\r\n        div.setAttribute(\"hidden\", true)\r\n        text.removeAttribute(\"hidden\")\r\n    }\r\n\r\n    //Toggles popup for inserting new stocks\r\n    popUpModal = () => {\r\n        this.setState({\r\n            isOpen: !this.state.isOpen\r\n        });\r\n    }\r\n\r\n    //Restores new stock to state on change\r\n    newStock(e) {\r\n        e.stopPropagation();\r\n        const n = e.target.id.split('-')[0]\r\n        let copy = {...this.state.newStock}\r\n        copy[n] = e.target.value\r\n        this.setState({\r\n            newStock: copy,\r\n        }, () => {\r\n            this.props.updatePortfolio(this.state.id, this.state.stocks, this.state.name)\r\n        });\r\n    }\r\n    //Count total value of stocks in portfolio\r\n    countTotal=()=>{\r\n        let stocks = [...this.state.stocks]\r\n        let total = 0\r\n        for(var i = 0; i<stocks.length; i++){\r\n            total = parseFloat(stocks[i].totalValue) + total\r\n        }\r\n        total = total.toFixed(2)\r\n        this.setState({\r\n            totalValuOfStocks: total\r\n        })\r\n    }\r\n    //Saves and adds stocks when 'save' is clicked\r\n    saveStock = () => {\r\n        if(this.state.newStock.name.length>0 && this.state.newStock.quantity > 0){\r\n            let newstock =  {...this.state.newStock}\r\n            let name = newstock.name.toUpperCase().trim()\r\n            if(name.trim().length<1){\r\n                alert('Insert proper name')\r\n            } else if(newstock.quantity % 1 !== 0){\r\n                alert(\"Quantity has to be a whole number\")\r\n            }else {\r\n                if(this.state.stocks.length>=40){\r\n                    alert('Maximum number of stocks in a portfolio is 40')\r\n                } else {\r\n                    fetch('https://www.alphavantage.co/query?function=TIME_SERIES_DAILY&symbol='+name+'&apikey=XDNRE3YNSC6MJXBQ')\r\n                        .then(response => response.json())\r\n                        .then(data => {\r\n                            if(Object.keys(data)[0] === 'Note' || Object.keys(data)[0] === 'Error Message'){\r\n                                alert(Object.values(data)[0])\r\n                            }else {\r\n                                let dataL = data['Time Series (Daily)']\r\n                                let day = Object.keys(dataL)[0]\r\n                                let value = parseFloat(Object.values(dataL[day])[0])\r\n                                newstock.name = name\r\n                                newstock.unitValue = value.toFixed(2)\r\n                                let totalv = newstock.unitValue*newstock.quantity\r\n                                newstock.totalValue = totalv.toFixed(2)\r\n                                newstock.checked = false\r\n                                let len = this.state.stocks.length + 1\r\n                                newstock.id = 'stock' + this.state.id + len\r\n                                var newStocksList = this.state.stocks.concat(newstock)\r\n                                this.setState({\r\n                                    stocks: newStocksList,\r\n                                    isOpen: !this.state.isOpen,\r\n                                }, () => {\r\n                                    this.props.updatePortfolio(this.state.id, this.state.stocks, this.state.name);\r\n                                    this.countTotal()\r\n                                });\r\n                            }\r\n                        })\r\n                }\r\n            }\r\n        } else {\r\n            alert('Invalid input')\r\n        }\r\n    }\r\n    //Removes selected stocks\r\n    removeSelectedStock (e) {\r\n        let stocksCopy = [...this.state.stocks]\r\n        let selected = stocksCopy.filter(stock => stock.checked === false)\r\n\r\n        this.setState({\r\n            stocks: selected}, () => {\r\n            this.props.updatePortfolio(this.state.id, this.state.stocks, this.state.name)\r\n            this.countTotal()\r\n            var clist = document.getElementsByTagName(\"input\");\r\n            for (var i = 0; i < clist.length; ++i) { clist[i].checked = false; }\r\n\r\n        });\r\n    }\r\n    //Sets checked tickbox to true in stock when clicking the checkbox\r\n    setChecked (e, id) {\r\n        e.stopPropagation()\r\n        let stocksCpy = Object.assign([], this.state.stocks);\r\n        let stock = stocksCpy.filter(s=> s.id === id)[0]\r\n        stock.checked ? stock.checked = false : stock.checked = true\r\n        this.setState({\r\n            stocks: stocksCpy,\r\n        }, () => {\r\n            this.props.updatePortfolio(this.state.id, this.state.stocks, this.state.name);\r\n        });\r\n\r\n    }\r\n\r\n    //Opens modal and draws graph\r\n    onOpenModal = (e) => {\r\n        e.stopPropagation();\r\n        this.setState({ open: true });\r\n    };\r\n    //Closes modal\r\n    onCloseModal = () => {\r\n        this.setState({ open: false });\r\n    };\r\n\r\n    render() {\r\n        const renObjData = this.state.stocks.map((data, index) =>\r\n            <Stock stock ={data} key={index} setChecked={this.setChecked} currencySymbol={this.state.currencySymbol}/>\r\n        );\r\n        const openModal = (this.state.open === true) ?\r\n            <Graph stocks={this.state.stocks} onCloseModal={this.onCloseModal} open={this.state.open}></Graph> : ''\r\n\r\n\r\n        return (\r\n            <div className=\"card\">\r\n                <script type=\"text/javascript\" src=\"https://www.gstatic.com/charts/loader.js\"></script>\r\n                <button onClick={(e) => {this.props.closePortfolio(e, this.state.id)}} className = 'close' ></button>\r\n                <div><div hidden><input onChange={this.changePortfolioName} id={this.props.name}></input><button onClick={this.savePortfolioName}>Save</button><button onClick={this.cancelPortfolioNameChange}>Cancel</button></div><p onClick={this.hideTextShowInput}>{this.state.name}</p></div>\r\n\r\n                <div className=\"datasheet-wrapper\">\r\n                    <table className=\"dataSheet\">\r\n                        <tbody>\r\n                        <tr><th>Name</th><th>Unit value</th><th>Quantity</th><th>Total value</th><th>Select</th></tr>\r\n                        {renObjData}\r\n                        </tbody>\r\n\r\n                    </table>\r\n                </div>\r\n                <div className=\"button-group\">\r\n\r\n                    <button onClick={this.popUpModal} className=\"button\" id=\"desktop\" >\r\n                        Add stock\r\n                    </button>\r\n\r\n                    <button onClick={this.onOpenModal} className=\"button\" id=\"desktop\" >\r\n                        Show performance graph\r\n                    </button>\r\n                    <button onClick={this.removeSelectedStock} className=\"button\" id=\"desktop\" >\r\n                        Remove selected\r\n                    </button>\r\n                </div>\r\n                <div>Total stock value of {this.state.name}: {this.state.totalValuOfStocks}{this.state.currencySymbol}</div>\r\n                <PopUp show={this.state.isOpen}\r\n                       onClose={this.popUpModal}>\r\n                    <form onChange={this.newStock}>\r\n                        Name: <input id={'name-'+this.state.id} type=\"text\"></input>\r\n                        Quantity:<input id={'quantity-'+this.state.id} type=\"number\"></input>\r\n                        <button onClick={this.saveStock}type=\"button\">Save</button>\r\n                    </form>\r\n                </PopUp>\r\n                {openModal}\r\n            </div>\r\n\r\n\r\n        )\r\n    }\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport * as serviceWorker from './serviceWorker';\nimport './App.css';\nimport Portfolio from './components/stockportfolio.js'\n//File includes code for displaying stock-included portfolios on page and modifying them\nclass App extends React.Component {\n    constructor() {\n        super();\n        let portfolio = localStorage.getItem('portfolio')\n        if(portfolio !== null){\n            portfolio = JSON.parse(portfolio)\n        } else {\n            portfolio = []\n        }\n        this.state = {\n            portfolio: portfolio,\n        }\n        this.addPortfolio = this.addPortfolio.bind(this);\n        this.closePortfolio = this.closePortfolio.bind(this)\n        this.updatePortfolio = this.updatePortfolio.bind(this)\n    }\n\n    //Set result to state and localStorage\n    onSetResult = (result, key) => {\n        localStorage.setItem(key, JSON.stringify(result));\n        this.setState({ portfolio: result });\n    }\n    //Update portfolio when stocks are updated\n    updatePortfolio(portfolioId, stocks, name){\n        let portfolioCopy =  Object.assign([],  this.state.portfolio);\n        for(var i = 0; i<portfolioCopy.length; i++){\n            if(portfolioCopy[i].id === portfolioId){\n                portfolioCopy[i].name = name\n                portfolioCopy[i].stocks = stocks\n            }\n        }\n        this.setState({portfolio: portfolioCopy})\n        this.onSetResult(portfolioCopy, 'portfolio')\n    }\n    //Set id to portfolio and count max id to control the total amount of portfolios\n    setId(){\n        let portfolioCopy = [...this.state.portfolio]\n        let list =[];\n        list = list.concat(0)\n        let idList = portfolioCopy.map(p => p.id)\n        idList.map(id => list = list.concat(id))\n        let max = (Math.max(...list)) + 1\n        return max\n    }\n    //Adds new empty portfolio\n    addPortfolio (e) {\n        e.stopPropagation();\n        let len = this.state.portfolio.length +1\n        let id = this.setId()\n        if(len<=6){\n            let newPortfolio = { name: 'Portfolio ' + len, id: id, stocks: []}\n            this.setState({\n                portfolio: this.state.portfolio.concat([newPortfolio])\n            });\n            this.onSetResult(this.state.portfolio.concat([newPortfolio]), 'portfolio')\n        } else {\n            alert('Too many portfolios. Max amount of portfolios is 6.')\n        }\n    }\n    //Closes and deletes portfolio\n    closePortfolio(e, id){\n        e.stopPropagation();\n        let portfolios = [...this.state.portfolio]\n        let selected = portfolios.filter(portfolio => portfolio.id !==  id)\n        this.setState({portfolio: selected});\n        this.onSetResult(selected, 'portfolio')\n    }\n\n    render(){\n        //Adds portfolios from state to the page\n        const renObjData = this.state.portfolio.map( (data,index) =>\n            <Portfolio name={data.name} total={data.totalValue} updatePortfolio={this.updatePortfolio} stocks={data.stocks} closePortfolio={this.closePortfolio} key = {data.id} id={data.id} />\n        );\n        return (\n            <div className=\"App\">\n                <header >\n\n                </header>\n                <body>\n                <div className=\"addPortfolio\"> <button onClick={this.addPortfolio}>Add new portfolio</button></div>\n                <div className=\"row\">\n                    {renObjData}\n\n                </div>\n                </body>\n\n            </div>\n\n        )\n    }\n}\n\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}